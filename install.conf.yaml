- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - chmod +x emacs/switch_emacs

- link:
    ~/.emacs.d:
      path: ../.emacs.d.spacemacs
      relink: true
    ~/.spacemacs:
      path: emacs/spacemacs
      relink: true
    ~/.local/bin/switch_emacs:
      path: emacs/switch_emacs
      create: true

    ~/.ghci: haskell/.ghci
    ~/.stack/global/stack.yaml:
      path: haskell/stack.yaml
      create: true
    ~/.cabal/config:
      path: haskell/cabal-config
      create: true

    ~/.gitignore_global: git/.gitignore_global
    ~/.hgrc: ../Dropbox/Apps/hgrc

- shell:
  - [echo "set -U XDG_CONFIG_HOME ~/.environment" | fish, Setting home directory for fish]
  - sh git/configure.sh
